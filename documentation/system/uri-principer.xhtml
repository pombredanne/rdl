<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xml" href="../templates/dv-handbok.xslt"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="sv">
  <head>
    <title>Elektroniska identifierare i Rättsinformationssystemet</title>
  </head>
  <body>
    <h1>Elektroniska identifierare i Rättsinformationssystemet</h1>

    <div class="section">
      <h2>1. Inledning</h2>
      <p>
        Här beskrivs principer för och konstruktionen av de identifierare som 
        rättsinformationssystemet använder för alla ingående reurser.
      </p>
    </div>

    <div class="section">
      <h2>2. Vägledande principer för designen</h2>
      <div>
        <h3>Grunder</h3>
        <p>Följande artiklar beskriver URI-teori och principer för god 
          URI-design:</p>
        <ul>
          <li><a href="http://tools.ietf.org/rfc/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a></li>
          <li><a href="http://www.w3.org/Provider/Style/URI.html">Cool URIs don't change</a></li>
          <li><a href="http://www.w3.org/TR/cooluris/">Cool URIs for the Semantic Web</a></li>
          <li><a href="http://www.w3.org/2001/tag/doc/alternatives-discovery.html">On Linking Alternative Representations To Enable Discovery And Publishing</a></li>
          <li><a href="http://h3h.net/2007/01/designing-urls-for-multilingual-web-sites/">Designing URLs for Multilingual Web Sites</a></li>
          <li><a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/pub/LinkedDataTutorial/">How to publish Linked Data on the Web</a></li>
        </ul>
      </div>
      <div>
        <h3>Databeroenden</h3>
        <p>
          Identifierare ska konstrueras ur befintlig information om en resurs. 
          Detta gör dem förutsägbara, vilket medför att man kan beräkna en 
          identiferare om man har tillgång till tillräcklig information.
        </p>
        <p>
          En begränsad mängd centralt kontrollerad <em>data</em> kan vara 
          nödvändig för att kunna beräkna dessa, men algoritmen ska vara enkel 
          nog för att inte kräva delad programkod. Detta är viktigt för att 
          minimera beroendet av ett central <em>tjänst</em> för 
          URI-tilldelning.
        </p>
        <p>
          Genom kontrollerad administration av bas-segment garanteras även att 
          URI-rymden undviker namnkollision, om t.ex. framtida termer dyker upp 
          som är snarlika historiska begrepp. Detta betyder att enbart de 
          segment som ligger under förutsägbar kontrollerade bas-URI:er ska 
          genereras ur resursens data.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>3. Krav på utformningen</h2>
      <div>
        <h3>Format</h3>
        <p>
          URI:erna anges som HTTP-URL:er. En hierarkisk struktur uppnås m.h.a 
          <code>/</code>-separerade segment.
        </p>
        <p>
          Respektive segment ska namnges med korta, enkla namn. Unikhet ska så 
          långt det är möjligt uppnås m.h.a. centralt kontrollerade namn. För 
          resterande delar ska <em>per resurstyp</em> unika identiferare 
          (tillhörighet, serienummer o.dyl.) användas.
        </p>
      </div>
      <div>
        <h3>Lokal öppenhet</h3>
        <p>
          För att i möjligaste mån bespara informationsproducenter arbetet att 
          konstruera en URI "från början" ska bas-URI:er för en myndighets 
          publikation vara centralt konstruerade och beständiga. Detta så att 
          kvarstående arbete för att skapa en URI för ett 
          rättsinformationsdokument begränsas till att transformera dess 
          identifierade egenskap(er), t.ex. författningssamlingsnummer, till 
          URI-form.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>4. Systemets URI-rymd</h2>
      <div>
        <h3>Bas-URI:n för rättsinformationssystemet</h3>
        <p>
          <code>http://rinfo.lagrummet.se/</code>
        </p>
      </div>
      <div>
        <h3>Toppnivån</h3>
        <p>
          De direkt underliggande segmenten är uppdelade på roll och resurstyp, 
          vilka beskrivs nedan.
        </p>
        <div>
          <h4>Externt kontrollerade resurser</h4>
          <dl>
            <dt><code>publ</code></dt>
            <dd>
              <p>
                Publicerade dokument. Den stora massan av rättsinformation faller 
                under detta segment.
              </p>
              <p>Unikhet uppnås m.h.a. centralt kontrollerade segment baserade 
                på någon slags tillhörighet (typ, publikationsserie eller 
                utgivande organisation) samt ett för respektive segment unikt 
                serienummer eller -namn (helt beroende på hur sådana tilldelas 
                för respektive samlingstyp).</p>
            </dd>
            <dt><code>serie</code></dt>
            <dd>
              <p>
                Publikationsserier som är centrala för 
                rättsinformationsdomänen.
              </p>
            </dd>
            <dt><code>org</code></dt>
            <dd>
              <p>
                Organisationer/grupper som är centrala för 
                rättsinformationsdomänen (såsom myndigheter (inkl. domstolar), 
                kommittéer).
              </p>
            </dd>
          </dl>
        </div>
        <div>
          <h4>Internt kontrollerade resurser</h4>
          <dl>
            <dt><code>ns</code></dt>
            <dd>
              <p>
                Namnrymd för modeller, taxonomier och ämnestermer. Dessa är helt 
                centralt kontrollerade. Unikhet uppnås m.h.a. datumsegment och 
                ett enkelt namn.
              </p>
            </dd>
            <dt><code>system</code></dt>
            <dd>
              <p>Systemnära information såsom systemloggar och metadata för 
                konfiguration.</p>
            </dd>
            <dt><code>ext</code></dt>
            <dd>
              <p>
                Plats för identifierare för resurser som inte ingår i den svenska
                rättsinformationsdomänen. I de fall då "externa" resurser inte
                har blivit tilldelade beständiga URI:er kan sådana tilldelas
                under detta segment.
              </p>
            </dd>
          </dl>
        </div>
      </div>
    </div>

    <div class="appendix">
      <div class="section">
        <h2>A. Informationsresurser</h2>
        <p>
          Den stora massan av resurser för vilka rättsinformationssystemet 
          tilldelar URI:er är s.k. "informationsresurser". Dessa är hämtbara 
          digitala dokument som finns på ett eller flera format.
        </p>
        <div>
          <h3>Digitala representationer</h3>
          <p>
            Digitalt material utgör representationer av informationsresurser 
            såsom textdokument, bilder m.m. Dessa är direkt underordnade en 
            logisk identifierare, och är i systemet även strukturellt 
            underordnade en given primär URI (likt filer i en katalog).
          </p>
          <p>
            Maximalt en given representation ska finnas per mediaformat och 
            språk. Mediaformat och språk används för att namnge representationen 
            under den givna primära URI:ns segment.
          </p>
          <div>
            <h4>Exempel på URI:er för digitala representationer</h4>
            <dl>
              <dt>PDF på svenska för SFS 1999:175</dt>
              <dd>
                <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/pdf,sv</code>
              </dd>
              <dt>RDF för SFS 1999:175</dt>
              <dd>
                <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/rdf</code>
              </dd>
            </dl>
          </div>
        </div>
        <div>
          <h3>Associerade filer</h3>
          <p>
            Vissa representationer kan ha en eller flera associerade filer i form 
            av t.ex. bilagor eller stilinformation. Dessa underordnas en primär 
            URI på samma sätt som representationerna. Deras namngivning är löst 
            kontrollerad, med krav på:
          </p>
          <ol>
            <li>Lokal unikhet</li>
            <li>
                Hänvisningar i en given representation ska utgå från en relativ 
                placering i "samma katalog", med underkataloger separerade med 
                <code>/</code> på sedvanligt vis.
            </li>
          </ol>
          <div>
            <h4>Exempel på URI:er för associerade filer</h4>
            <dl>
              <dt>Bilaga som PDF associerad med SFS 1999:175</dt>
              <dd>
                <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/Bilaga_1.pdf</code>
              </dd>
              <dt>CSS associerad med (HTML-representation av) SFS 1999:175</dt>
              <dd>
                <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/style/print.css</code>
              </dd>
            </dl>
          </div>
        </div>
      </div>
    </div>

    <div class="appendix">
      <div class="section">
        <h2>B. Teori</h2>
        <!--

    - alla "root-kataloger":
        - måste ha låst mening
            - och deterministiskt (upptäckbart/genererbart) erbjuda lagring:
                - via segment med enkla beteckningar
                    (segment, enligt <http://www.ietf.org/rfc/rfc3986.txt>)
        - måste hålla över tid
            - Varje segment döps efter en term som den associeras till explicit (i intern data)
              så att administrationen av dem är under total kontroll (om t.ex.
              framtida termer "inkräktar" på befintliga namn kan man styra det här).
            - Detta betyder att segment inte ska genereras från
              löptext-etiketter per automatik, utan kontrolleras.

Grundråd:
- så lite som möjligt (men inte mindre) i URI:n
    - fall inte tillbaks på datumpartitionering för allt
        - okej för modellen som vi ser det nu
    - lagrummet och andra vyer som förenar beständighet
        med konstant utvecklande och omgörande måste ligga
        utanför "grundnamnrymden".

Databeroenden:
    - så få som möjligt
    - bara internt kontrollerade
    - kommer rimligen att vara:
        - modellen
        - termer ("#Avslutad", ...)
        - listor med uri:er och egenskaper+värden:
            - för att kunna generera URI:er av sammansatta nycklar
            - beskriva:
                - domstolar
                - samlingar
                    - författningssamlingar
                    - TODO: enumerera övriga
                    - TODO: ange vilka egenskaper som har dem som range

Språkhantering
    - idag inte inbyggt att en lag finns på flera språk; dock:
        - en canonical URI för lagen i sig är språkoberoende
        - precis som för mediatyp kan representationer på olika språk få egna uri:er
          "under" canonical URI:n.
        - se t.ex. <http://h3h.net/2007/01/designing-urls-for-multilingual-web-sites/>
          för goda designråd kring hur dessa bör se ut. Vår nuvarande rekommendation är t.ex:

            - TODO: se documentation/spec

        - hur hantera samma dokument på olika språk?
            - är det en "representation" av document-resursen?
            - rimligen inte utan en ny document-resurs: går ej att säga 'dc:language "sv"' om de är "samma resurs"! (samma resonemang kan föras om dc:hasFormat..)


Användbara URI:er är:

    -   läsbara

    -   meningsfulla

        Konstruerade utifrån något i dokumentet som är "inneboende". En
        svår filosofisk fråga, men principen är att inte använda föränderliga egenskaper.
        I rinfo-fallet är det oerhört svårt att uppfylla; men vi
        approximerar mot det genom att använda verdertagna formella ID:n
        såsom odisputerade kortnamn (t.ex. Prop., SFS, Ds), författningssamlingsnummer m.m.
        Dessa i sig kan ifrågasättas utifrån dessa principer, men det
        faller utanför den generiska URI-schema-designen och går in på
        domänspecifika frågor. URI-designens "juristiktion" slutar här, och
        vi följer helt enkelt bara gängse praxis utan ytterligare
        värdering.

    -   "hackbara"

        om varje segment har en mening kan man tänka sig att de kan bytas
        ut.. Tänk årtal, publikationsnamn m.m.

        Dock: jmf. "pointer-artimetik". URI:er *ska* betraktas som ogenomskinliga, "atomära"

        Kan vara en "service", men inte alls nödvändig att uppfylla (eller konsekvent uppfylla)

        Notera också att t.ex.::

            <http://rinfo.lagrummet.se/pub/sfs/>

        Inte alls nödvändigen representerar SFS i sig, utan *om något* en
        motsvarande tjänst som serverar dokument som publicerats i SFS. Den
        semantiska relationen mellan dessa är odefinierad. *Kan* anges på
        denna plats med t.ex.RDF, eller en Atom-service-beskriving eller
        motsvarande. Men det är inget *krav*.

    -   Är det tillräckligt med state i URI:n för att inte kräva redirect eller header-inspection?
        Inte en avgjord fråga; men redirects kan vara goda i dessa fall. Dock gör detta det
        svårt/omöjligt att "urlbar-kopiera" visad resurs för att få canonical URI..
        - mime-type
        - språk

        -->

      </div>
    </div>

  </body>
</html>
