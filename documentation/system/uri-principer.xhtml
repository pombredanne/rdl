<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xml" href="../templates/system.xslt"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="sv"
      xmlns:xi="http://www.w3.org/2001/XInclude">
  <head>
    <title>Digitala identifierare i Rättsinformationssystemet</title>
  </head>
  <body>
    <h1>Digitala identifierare i Rättsinformationssystemet</h1>

    <div id="toc">
      <h2>Innehåll</h2>
      <ul/>
    </div>

    <div class="section">
      <h2>1. Inledning</h2>
      <p>
        Här beskrivs principer för och konstruktionen av de identifierare som 
        rättsinformationssystemet använder för alla ingående reurser. Syftet är 
        att definiera en strikt form för att hålla identifikation (och således
        hänvisningar) entydig, hållbar och förutsägbar.
      </p>
    </div>

    <div class="section">
      <h2>2. Vägledande principer för designen</h2>
      <div>
        <h3>Grunder</h3>
        <p>Identifierare i systemet ska utgöras av URI:er (Uniform Resource 
          Identifier) -- specifikt HTTP-URI:er. Dessa möjliggör upptäckbarhet 
          genom att exponera över nätet hämtbar information. Alla URI:er ska 
          designas så att de är beständiga över tid.</p>
        <p>För mer teori och principer kring god URI-design, se <a 
            href="#bilaga_d">Bilaga D</a>.
        </p>
      </div>
      <div>
        <h3>Databeroenden</h3>
        <p>Identifierare ska konstrueras ur befintlig information om en resurs. 
          Detta gör dem förutsägbara, vilket medför att man kan beräkna en 
          identifierare om man har tillgång till tillräcklig information.
        </p>
        <p>En begränsad mängd centralt kontrollerad <em>data</em> kan vara 
          nödvändig för att kunna beräkna dessa, men algoritmen ska vara enkel 
          nog för att inte kräva delad programkod. Detta är viktigt för att 
          minimera beroendet av ett central <em>tjänst</em> för 
          URI-tilldelning.
        </p>
        <p>Genom kontrollerad administration av bas-segment garanteras även att 
          URI-rymden undviker namnkollision, om t.ex. framtida termer dyker upp 
          som är snarlika historiska begrepp. Detta betyder att enbart de 
          segment som ligger under förutsägbara, kontrollerade bas-URI:er ska 
          genereras ur resursens data.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>3. Krav på utformningen</h2>
      <div>
        <h3>Format</h3>
        <p>URI:erna anges som HTTP-URL:er. En hierarkisk struktur uppnås m.h.a. 
          snedstrecksseparerade segment (<code>"/"</code>).
        </p>
        <p>Respektive segment ska namnges med korta, enkla namn. Unikhet ska så 
          långt det är möjligt uppnås m.h.a. centralt kontrollerade namn. För 
          resterande delar ska <em>per resurstyp</em> unika identiferare 
          (tillhörighet, serienummer o.dyl.) användas.
        </p>
      </div>
      <div>
        <h3>Lokal öppenhet</h3>
        <p>För att i möjligaste mån bespara informationsproducenter arbetet att 
          konstruera en URI "från början" ska bas-URI:er för en myndighets 
          publikation vara centralt konstruerade och beständiga. Detta så att 
          kvarstående arbete för att skapa en URI för ett 
          rättsinformationsdokument begränsas till att transformera dess 
          identifierade egenskap(er), t.ex. författningssamlingsnummer, till 
          avslutande segment i URI:n.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>4. Systemets URI-rymd</h2>
      <div>
        <h3>Bas</h3>
        <p>Bas-URI:n för rättsinformationssystemet är:</p>
        <blockquote>
          <code>http://rinfo.lagrummet.se/</code>
        </blockquote>
      </div>
      <div>
        <h3>Toppnivån</h3>
        <p>De direkt underliggande segmenten är uppdelade på roll och 
          resurstyp, vilka beskrivs i de efterföljande avsnitten.
        </p>
        <div>
          <h4>Segment för resurser kontrollerade av producenter</h4>
          <ul>
            <li><code>publ</code></li>
            <li><code>serie</code></li>
            <li><code>org</code></li>
            <li><code>kom</code></li>
          </ul>
          <p>Se <a href="#s_5">avsnitt 5</a>.
          </p>
        </div>
        <div>
          <h4>Segment för resurser kontrollerade av systemet</h4>
          <ul>
            <li><code>ns</code></li>
            <li><code>sys</code></li>
            <li><code>ext</code></li>
          </ul>
          <p>Se <a href="#s_6">avsnitt 6</a>.
          </p>
        </div>
      </div>
    </div>

    <div class="section" id="s_5">
      <h2>5. Identifierare för publikationer, samlingar, organisationer och 
        kommittéeinformation</h2>
      <p>Detta kapitel beskriver regler för hur producenter ska konstruera 
        URI:er för poster som ingår i rättsinformationssystemet.
      </p>
      <dl>
        <dt><code>publ</code></dt>
        <dd>
          <p>Publicerade dokument. Den stora massan av rättsinformation faller 
            under detta segment.
          </p>
          <p>Unikhet uppnås m.h.a. centralt kontrollerade segment baserade 
            på någon slags tillhörighet (typ, publikationsserie eller 
            utgivande organisation) samt ett för respektive segment unikt 
            serienummer eller -namn (helt beroende på hur sådana tilldelas 
            för respektive samlingstyp).
          </p>
        </dd>
        <dt><code>serie</code></dt>
        <dd>
          <p>Publikationsserier som är centrala för 
            rättsinformationsdomänen.
          </p>
        </dd>
        <dt><code>org</code></dt>
        <dd>
          <p>Organisationer/grupper som är centrala för 
            rättsinformationsdomänen (såsom myndigheter (inkl. domstolar), 
            kommittéer).
          </p>
        </dd>
        <dt><code>kom</code></dt>
        <dd> <p>Resurser i kommittéväsendet.</p> </dd>
      </dl>
      <div>
        <h3>5.1. Rättsinformationsdokument</h3>
        <p>URI:er för rättsinformationsdokument (publikationer) faller under 
          under segmentet <code>publ</code>.
        </p>
        <p>Här hamnar alla primära rättsinformationsdokument. Deras URI:er 
          baseras på en specifik gruppering samt ett lokalt unikt värde för 
          respektive grupp.
        </p>
        <div>
          <h4>Underliggande segment</h4>
          <p>Direkt under <code>publ</code> finns ett flertal segment som 
            representerar tillhörighet. Dessa är centralt definierade och 
            kräver att förvaltningen av rättsinformationsdomänen skapar nya 
            platser då nya tillhörighetstyper tillkommer (t.ex. när en ny 
            författningsamling skapas, eller om en ny grundtyp av dokument 
            definieras i rättsinformationsmodellen).
          </p>
          <p>Exempel på segment för publikationstillhörighet är:
          </p>
          <dl>
            <dt><code>/publ/sfs/</code></dt>
            <dd>
              <p>Dokument publicerade i SFS (Svensk Författningsamling).</p>
            </dd>
            <dt><code>/publ/nja/</code></dt>
            <dd>
              <p>Dokument publicerade i NJA (Nytt Juridiskt Arkiv).</p>
            </dd>
            <dt><code>/publ/prop/</code></dt>
            <dd>
              <p>Propositioner (dokument av typen "proposition").</p>
            </dd>
            <dt><code>/publ/dom/domstolsverket/</code></dt>
            <dd>
              <p>Vägledande domstolsavgöranden utgivna av Domstolsverket.</p>
            </dd>
          </dl>
        </div>
        <div>
          <h4>Konstruktionsregler för publikationsindentifierare</h4>
          <!-- TODO:skriv klart detta block (plus genererad data) -->
          <p>
          </p>
          <ul>
            <li>Lista på regler: segment per "gruppering", vilken "symbol" 
              (token) som används..</li>
            <li>Hur en symbols tecken transformeras till ett/flera segment i en 
              identifierare..</li>
            <li>Sammansättningsalgoritm..</li>
            <li>Komplett lista på containrar som används som bas av (vissa) 
              regler.. (i bilaga)</li>
            <!--
            <xi:include href="data/containers.xhtml" xpointer="containers"/>
            <code class="javascript"><xi:include href="../../resources/base/uri_algorithm/compose_results.js" parse="text"/></code>
            -->
          </ul>
          <p>För exempel på URI:er per dokument- och samlingstyp se <a 
              href="#bilaga_a">Bilaga A</a>.
          </p>
        </div>
        <div>
          <h4>Delar av dokument: fragmentidentifierare</h4>
          <p>Delar av dokument identifieras med bestämda fragment. Dessa 
            konstrueras baserat på:
          </p>
          <ul>
            <li>relationen mellan dokument eller överliggande del och delen i 
              sig,
            </li>
            <li>en ordinal (vanligen siffra eller nummer). Plats för denna 
              representeras som <code>{ordinal}</code> i mallarna nedan.
            </li>
          </ul>
          <p>De definierade fragmenttyperna och hur de ska konstrueras 
            definieras av följande mallar:
          </p>
          <dl>
            <dt>Paragraf på toppnivå</dt>
            <dd><code>#p_{ordinal}</code></dd>
            <dt>Kapitel på toppnivå</dt>
            <dd><code>#k_{ordinal}</code></dd>
            <dt>Paragraf i kapitelindelat dokument</dt>
            <dd><code>#k_{ordinal}-p_{ordinal}</code></dd>
            <dt>Bilaga</dt>
            <dd><code>#bilaga_{ordinal}</code></dd>
          </dl>
        </div>
      </div>
      <div class="section">
        <h3>5.2. Publikationsserier</h3>
      </div>
      <div class="section">
        <h3>5.3. Organisationer</h3>
      </div>
      <div class="section">
        <h3>5.4. Kommittéregisterposter</h3>
        <p>URI:er för de ting inom kommittéväsendet som <em>inte</em> är 
          publikationer  faller under under segmentet "kom".
        </p>
        <p>Exempel på sådana ting är kommittéer och poster i kommittéregistret.
        </p>
        <dl>
          <dt><code>/kom/kommitte/</code></dt>
          <dd>
            <p>Kommittéer</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="section" id="s_6">
      <h2>6. Identifierare för centrala poster i rättsinformationssystemet</h2>
      <p>Detta kapitel beskriver regler för hur URI:er för centrala poster i 
        rättsinformationssystemet ska konstrueras.
      </p>
      <dl>
        <dt><code>ns</code></dt>
        <dd>
          <p>Namnrymd för modeller, taxonomier och ämnestermer. Dessa är helt 
            centralt kontrollerade. Unikhet uppnås m.h.a. datumsegment och 
            ett enkelt namn.
          </p>
        </dd>
        <dt><code>sys</code></dt>
        <dd>
          <p>Systemnära information såsom systemloggar och metadata för 
            konfiguration.
          </p>
        </dd>
        <dt><code>ext</code></dt>
        <dd>
          <p>Plats för identifierare för resurser som inte ingår i den
            svenska rättsinformationsdomänen. Här kan information om
            viktiga externa resurser placeras (dokument, vokabulär,
            organisationer m.m.), eventuellt med kopior av den information
            de utgör.
          </p>
          <p>Vidare kan URI:er tilldelas under detta segment i de fall då 
            externa resurser inte har blivit tilldelade (pålitliga och 
            beständiga) sådana.
          </p>
        </dd>
      </dl>
      <div>
        <h3>6.1. Namnrymden "ns"</h3>
        <p>Under detta segment placeras tekniska modeller såsom 
          scheman/ontologier (RDFS/OWL), centrala SKOS-vokabular, eventuella 
          GRDDL-dokument, XML-scheman och liknande.
        </p>
        <div>
          <h4>Definierade modell-URI:er</h4>
          <dl>
            <dt>Modellen för rättsinformationsdokument</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/ns/2008/11/rinfo/publ#</code>
            </dd>
            <dt>Modellen för kommittéeregistret</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/ns/2008/11/rinfo/kommitte#</code>
            </dd>
          </dl>
        </div>
        <p>Denna rymd partitioneras i regel med datum (år, månad, namn(delar)),
          enligt:
        </p>
        <p>
          <code>&lt;ns/{yyyy/mm[/dd]}/{namn[/...]}></code>
        </p>
      </div>
      <div>
        <h3>6.2. Instrumentella segment</h3>
        <p>Segmenten <code>sys</code> och <code>ext</code> kontrolleras internt 
          och är primärt inte till för att länkas till av andra delar än 
          systemet självt.
        </p>
      </div>
    </div>

    <div class="section">
      <h2>7. Informationsresurser</h2>
      <p>Den stora massan av resurser för vilka rättsinformationssystemet 
        tilldelar URI:er är s.k. "informationsresurser". Dessa är hämtbara 
        digitala dokument som finns på ett eller flera format.
      </p>
      <div>
        <h4>Digitala representationer</h4>
        <p>Digitalt material utgör representationer av informationsresurser 
          såsom textdokument, bilder m.m. Dessa är direkt underordnade en 
          logisk identifierare, och är i systemet även strukturellt 
          underordnade en given primär URI (likt filer i en katalog).
        </p>
        <p>Maximalt en given representation ska finnas per mediaformat och 
          språk. Mediaformat och språk används för att namnge representationen 
          under den givna primära URI:ns segment.
        </p>
        <div>
          <h4>Exempel på URI:er för digitala representationer</h4>
          <dl>
            <dt>PDF (på svenska) för SFS 1999:175</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/pdf,sv</code>
            </dd>
            <dt>RDF för SFS 1999:175</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/rdf</code>
            </dd>
          </dl>
        </div>
      </div>
      <div>
        <h4>Associerade filer</h4>
        <p>Vissa representationer kan ha en eller flera associerade filer i form 
          av t.ex. bilagor eller stilinformation. Dessa underordnas en primär 
          URI på samma sätt som representationerna. Deras namngivning är löst 
          kontrollerad, med krav på:
        </p>
        <ol>
          <li>Lokal unikhet. Specifikt måste de anges på formen 
            <code>{bas}.{filtypsändelse}</code>. Detta gör att namnen inte kan 
            krocka med av systemet definierade representationsnamn (baserade på 
            mediaformat) eller underordnade segment.</li>
          <li>
              Hänvisningar i en given representation ska utgå från en relativ 
              placering i "samma katalog", med underkataloger separerade med 
              <code>/</code> på sedvanligt vis.
          </li>
        </ol>
        <div>
          <h4>Exempel på URI:er för associerade filer</h4>
          <dl>
            <dt>Bilaga som PDF associerad med SFS 1999:175</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/bilaga_1.pdf</code>
            </dd>
            <dt>CSS associerad med (HTML-representation av) SFS 1999:175</dt>
            <dd>
              <code>http://rinfo.lagrummet.se/publ/sfs/1999:175/style/print.css</code>
            </dd>
          </dl>
        </div>
      </div>
    </div>

    <div id="bilaga_a" class="appendix">
      <h2>A. Exempel på URI:er per dokument- och samlingstyp</h2>
      <div class="atom-uri-examples">
        <a href="../../resources/base/uri_algorithm/tests/publ.atom"
          class="atom-source">exempel</a>
      </div>
    </div>

    <div id="bilaga_b" class="appendix">
      <h2>B.</h2>
    </div>

    <div id="bilaga_c" class="appendix">
      <h2>C.</h2>
    </div>

    <div id="bilaga_d" class="appendix">
      <h2>D. Teori och principer</h2>
      <p>Artiklar om teori och principer kring god URI-design:</p>
      <ul>
        <li><a href="http://tools.ietf.org/rfc/rfc3986">Uniform Resource 
            Identifier (URI): Generic Syntax</a>
        </li>
        <li><a href="http://www.w3.org/Provider/Style/URI.html">Cool URIs 
            don't change</a>
        </li>
        <li><a href="http://www.w3.org/TR/cooluris/">Cool URIs for the 
            Semantic Web</a>
        </li>
        <li><a 
            href="http://www.w3.org/2001/tag/doc/alternatives-discovery.html">On 
            Linking Alternative Representations To Enable Discovery And 
            Publishing</a>
        </li>
        <!-- TODO:
        <a href="http://tools.ietf.org/html/draft-spinosa-urn-lex-00#section-1.5"></a>
        <a href="http://www.cabinetoffice.gov.uk/media/308995/public_sector_uri.pdf"></a>
        -->
        <!--
        <li><a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/pub/LinkedDataTutorial/"
            >How to publish Linked Data on the Web</a>
        </li>
        -->
      </ul>
    <!--

    - alla "root-kataloger":
        - måste ha låst mening
            - och deterministiskt (upptäckbart/genererbart) erbjuda lagring:
                - via segment med enkla beteckningar
                    (segment, enligt <http://www.ietf.org/rfc/rfc3986.txt>)
        - måste hålla över tid
            - Varje segment döps efter en term som den associeras till explicit (i intern data)
              så att administrationen av dem är under total kontroll (om t.ex.
              framtida termer "inkräktar" på befintliga namn kan man styra det här).
            - Detta betyder att segment inte ska genereras från
              löptext-etiketter per automatik, utan kontrolleras.

      Databeroenden:
          .. ska vara internt kontrollerade
          - modellen
          - termer?
          - "schema": container-och-selectors

          - listor med uri:er och egenskaper+värden:
              - för att kunna generera URI:er av sammansatta nycklar
              - kopplade till:
                  - dokumenttyper
                  - samlingar
                      - författningssamlingar
                      - .. enumerera övriga
                      - .. ange vilka egenskaper som har dem som range
                  - domstolar

    = Språkhantering =

    idag inte inbyggt att en lag finns på flera språk; dock:

        - en canonical URI för lagen i sig är språkoberoende
        - precis som för mediatyp kan representationer på olika språk få egna uri:er
          "under" canonical URI:n.
        - se t.ex.:
          <a href="http://h3h.net/2007/01/designing-urls-for-multilingual-web-sites/">Designing URLs for Multilingual Web Sites</a>
          för goda designråd kring hur dessa bör se ut.

          Vår nuvarande rekommendation är (se ovan).

        - hur hantera samma dokument på olika språk?
            - är det en "representation" av document-resursen?
            - rimligen inte utan en ny document-resurs: går ej att säga 'dc:language "sv"' om de är "samma resurs"! (samma resonemang kan föras om dc:hasFormat..)


    Användbara URI:er är:

    -   läsbara

    -   meningsfulla

        Konstruerade utifrån något i dokumentet som är "inneboende". En
        svår filosofisk fråga, men principen är att inte använda föränderliga egenskaper.
        I rinfo-fallet är det oerhört svårt att uppfylla; men vi
        approximerar mot det genom att använda verdertagna formella ID:n
        såsom odisputerade kortnamn (t.ex. Prop., SFS, Ds), författningssamlingsnummer m.m.
        Dessa i sig kan ifrågasättas utifrån dessa principer, men det
        faller utanför den generiska URI-schema-designen och går in på
        domänspecifika frågor. URI-designens "juristiktion" slutar här, och
        vi följer helt enkelt bara gängse praxis utan ytterligare
        värdering.

    -   "hackbara"

        om varje segment har en mening kan man tänka sig att de kan bytas
        ut.. Tänk årtal, publikationsnamn m.m.

        Dock: jmf. "pointer-artimetik". URI:er *ska* betraktas som ogenomskinliga, "atomära"

        Kan vara en "service", men inte alls nödvändig att uppfylla (eller konsekvent uppfylla)

        Notera också att t.ex.::

            <http://rinfo.lagrummet.se/pub/sfs/>

        Inte alls nödvändigen representerar SFS i sig, utan *om något* en
        motsvarande tjänst som serverar dokument som publicerats i SFS. Den
        semantiska relationen mellan dessa är odefinierad. *Kan* anges på
        denna plats med t.ex.RDF, eller en Atom-service-beskriving eller
        motsvarande. Men det är inget *krav*.

    -   Är det tillräckligt med state i URI:n för att inte kräva redirect eller header-inspection?
        Inte en avgjord fråga; men redirects kan vara goda i dessa fall. Dock gör detta det
        svårt/omöjligt att "urlbar-kopiera" visad resurs för att få canonical URI..
        - mime-type
        - språk

      </div>
    </div>
    -->
    </div>

  </body>
</html>
