<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>RInfo Main REST Specification</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="stylesheet" type="text/css" href="spec.css" />
  </head>
  <body>

    <h1>RInfo Main REST Specification</h1>
    <h2>Introduction</h2>
    <p>The Main RInfo Resource Service should follow the specs and guidelines in:</p>
    <ul>
      <li><a href="http://www.w3.org/TR/swbp-vocab-pub/"
          >Best Practice Recipes for Publishing RDF Vocabularies</a></li>
      <li><a href="http://www.w3.org/TR/cooluris/"
          >Cool URIs for the Semantic Web</a></li>
      <li><a href="http://www.w3.org/2001/tag/doc/alternatives-discovery.html"
          >On Linking Alternative Representations To Enable Discovery And Publishing</a></li>
      <li><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
          >HTTP/1.1 Status Code Definitions</a></li>
    </ul>
    <p>It should also conform to these Atom Syndication specs:</p>
    <ul>
      <li><a href="http://tools.ietf.org/html/rfc5005"
          >Atom Feed Paging and Archiving</a></li>
    </ul>

    <h2>Settings</h2>
    <table>
      <thead>
        <tr><th>Setting</th>
          <th>Value</th>
        </tr>
      </thead>
      <tbody>
        <tr><td class="bot">Resource</td>
          <td class="src">init.html</td>
        </tr>
        <tr><td class="bot">Test Setup</td>
          <td class="act">Define Namespaces and Base URL</td>
        </tr>
      </tbody>
    </table>

    <h2>Usage Examples</h2>

    <h3>Main Feed</h3>

    <p>Retrieving the subscription and archive feed documents:</p>

    <table>
      <colgroup>
        <col width="20%" /> <col width="14%" />
        <col width="24%" /> <col width="24%" />
        <col width="18%" />
      </colgroup>
      <thead>
        <tr>
          <th>Test Case</th>
          <th>Action</th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Subscription Feed</td>
          <td class="act">GET Atom Feed</td>
          <td class="arg">/feed/current</td>
          <td class="arg"></td>
          <td class="arg"></td>
        </tr>
        <tr><td></td>
          <td class="act">No XPath</td>
          <td class="arg">/atom:feed/fh:archive</td>
          <td class="arg"></td>
          <td class="arg"></td>
        </tr>
        <tr><td></td>
          <td class="def">${prev_arch}=</td>
          <td class="act">XPath Regexp</td>
          <td class="arg">/atom:feed/atom:link[ @rel='prev-archive']/@href</td>
          <td class="arg">^/feed/.+/.+/T.+/.+Z$</td>
        </tr>
        <tr class="sep"><td>&#160;</td></tr>
        <tr><td></td>
          <td class="act">GET Atom Feed</td>
          <td class="arg">${prev_arch}</td>
          <td class="arg"></td>
          <td class="arg"></td>
        </tr>
        <tr><td></td>
          <td class="act">Find XPath</td>
          <td class="arg">/atom:feed/fh:archive</td>
          <td class="arg"></td>
          <td class="arg"></td>
        </tr>
        <tr><td></td>
          <td class="act">XPath Value</td>
          <td class="arg">/atom:feed/atom:link[ @rel='current']/@href</td>
          <td class="arg">/feed/current</td>
          <td class="arg"></td>
        </tr>
      </tbody>
    </table>

    <h3>Content Negotiation on Entries</h3>
    <table>
      <colgroup>
        <col width="20%" /> <col width="20%" />
        <col width="30%" /> <col width="30%" />
      </colgroup>
      <thead>
        <tr>
          <th>Test Case</th>
          <th>Action</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>

        <tr><td>Atom Entry</td>
          <td class="act">Negotiate Entry Content</td>
          <td class="arg">/publ/sfs/1999:175</td>
          <td class="arg">application/atom+xml;type=entry</td>
        </tr>
        <tr><td></td>
          <td>...</td>
          <td class="arg">/publ/sfs/1999:175/entry</td>
          <td class="arg"></td>
        </tr>

        <tr class="sep"><td>&#160;</td></tr>

        <tr><td>RDF Content of Entry</td>
          <td class="act">Negotiate Entry Content</td>
          <td class="arg">/publ/sfs/1999:175</td>
          <td class="arg">application/rdf+xml</td>
        </tr>
        <tr><td></td>
          <td>...</td>
          <td class="arg">/publ/sfs/1999:175/rdf</td>
          <td class="arg"></td>
        </tr>

        <tr class="sep"><td>&#160;</td></tr>

        <tr><td>PDF Content of Entry</td>
          <td class="act">Set Header</td>
          <td class="arg">Accept-Language</td>
          <td class="arg">sv</td>
        </tr>
        <tr><td></td>
          <td class="act">Negotiate Entry Content</td>
          <td class="arg">/publ/sfs/1999:175</td>
          <td class="arg">application/pdf</td>
        </tr>
        <tr><td></td>
          <td>...</td>
          <td class="arg">/publ/sfs/1999:175/pdf,sv</td>
          <td class="arg">sv</td>
        </tr>

      </tbody>
    </table>

  </body>
</html>
