<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="sv">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Avgöranden - Bilaga 6: Mappning av nuvarande data</title>
  </head>
  <body>
    <div id="content">
      <p>
      I domstolsverkets nuvarande lösning innehåller databasens
      huvudtabell (Avgorande) i huvudsak sådana egenskaper som svarar
      mot 
      <code>VagledandeDomstolsavgorande</code>. Några egenskaper
      svarar däremot mot <code>Rattsfallsreferat</code>
      (PublikationsBeteckning, Publikationsbeteckning2 och
      ReferatDok). 
      </p>
      <p>
      Från varje fullständig rad i den befintliga Avgorande-tabellen
      skapas därför <em>två</em> resurser, en av varje typ.
      Publicering av kortform är publicering av ett
      VagledandeDomstolsavgorande. När referatet finns tillgängligt
      kan man även publicera ett Rattsfallsreferat. Dessa två typer
      kan publiceras i samma flöde, se nedan.
      </p>

      <h2>Mappning för VagledandeDomstolsavgorande</h2>
      <table border="1">
	<tr>
	  <th colspan="2">Fältnamn</th>
	  <th>RDF-egenskap</th>
	  <th>Kommentar</th>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.Avdelning</td>
	  <td class="predicate">domstolsavdelning</td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.Myndighetskod</td>
	  <td class="predicate">dct:publisher</td>
	  <td class="comment">
	    Värdet ska mappas från en treställig bokstavsförkortning
	    till en URI som representerar domstolen/myndigheten. Dessa
	    URI:er anges av rättsinformationsprojektet. Exv "HDO" =>
	    "http://rinfo.lagrummet.se/ org/hoegsta_domstolen". Den
	    fullständiga listan över URI:er finns i en bilaga till detta
	    dokument, och kommer finnas i uppdaterad form på
	    rinfo.lagrummet.se.
	  </td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.MalNr</td>
	  <td class="predicate">malnummer</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.Domsnr</td>
	  <td class="predicate">domsnummer</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.AvgorandeDatum</td>
	  <td class="predicate">avgorandedatum</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.RubrikText</td>
	  <td class="predicate">dct:title</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td colspan="2">Avgorande.PubliceringsDatum</td>
	  <td class="predicate">dct:issued</td>
	  <td class="comment">
	    Under förutsättning att PubliceringsDatum stämmer bäst
	    överens med definitionen av dct:issued ("Date of formal
	    issuance (e.g., publication) of the resource.") -- andra
	    alternativ är InfogatDatum, UppdateratDatum och TimeStamp.
	  </td>
	</tr>
	<tr>
	  <td colspan="3">För varje kopplad rad i tabellen Sokord:</td>
	</tr>
	<tr>
	  <td>&nbsp;</td>
	  <td>Sokord.SokOrd</td>
	  <td class="predicate">dct:subject</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td colspan="3">För varje kopplad rad i tabellen Rattsfall:</td>
	</tr>
	<tr>
	  <td>&nbsp;</td>
	  <td>Rattsfall.RattsfallsReferens</td>
	  <td class="predicate">rattsfallshanvisning</td>
	  <td class="comment">
	    Här måste en URI konstrueras från löptexten, exv "NJA 2006
	    s. 36" =>
	    "http://rinfo.lagrummet.se/ publ/rf/nja/2006s36". Mönstret
	    för att göra detta är:
	    http://rinfo.lagrummet.se/ publ/rf/[RattsfallsReferens],
	    där publikationsbeteckningen transformeras så att det första
	    mellanrummet byts ut mot ett "/", övriga mellanrum (samt
	    punkt) tas bort, och alla bokstäver transformeras till
	    gemener.
	  </td>
	</tr>
	<tr>
	  <td colspan="3">För varje kopplad rad i tabellen Lagrum:</td>
	</tr>
	<tr>
	  <td>&nbsp;</td>
	  <td>Lagrum.LagrumsReferens</td>
	  <td class="predicate">lagrum</td>
	  <td class="comment">
	    Där så är möjligt, utvinn referenser i form av exakta
	    URI:er. För andra fall, konstruera anonyma resurser
	    (BNodes) för hänvisningar som beskrivs med hjälp av
	    lagrumshänvisningar i löptext (se avsnittet "Inexakta
	    hänvisningar" samt bilaga 11 (målnr T 170-08))
	  </td>
	</tr>
      </table>

      <p>
	Konstruera sedan URIn för resursen enligt följande mönster:
      </p>
      <p>
	<code>http://rinfo.lagrummet.se/publ/dom/</code><i>[symbol för dct:publisher]</i><code>/</code><i>[malnummer]</i><code>/</code><i>[avgorandedatum]</i>
      </p>

      <ul>
	<li>Symbolen för <code>dct:publisher</code> hämtas från Bilaga 5</li>
	<li>
	  <code>malnummer</code> ska vara utan mellanslag och
	  med eventuella å, ä och ö transformerade till aa, ae och oe,
	  respektive (vilket är i linje med de generella
	  URI-principerna för systemet)
	</li>
	<li>
	  <code>avgorandedatum</code> ska skrivas på formen ÅÅÅÅ-MM-DD.
	</li>
      </ul>
      <p>
	Ett typiskt exempel på en URI är
	<code>http://rinfo.lagrummet.se/publ/dom/hd/t170-08/2009-11-04</code>.
      </p>

      <h2>Mappning för Rattsfallsreferat</h2>
      <table border="1">
	<tr>
	  <th>Fältnamn e dyl.</th>
	  <th>RDF-egenskap</th>
	  <th>Kommentar</th>
	</tr>
	<tr>
	  <td>[URI för avgörande enligt ovan]</td>
	  <td class="predicate">
	  referatAvDomstolsavgorande</td>
	</tr>
	<tr>
	  <td>Avgorande.RubrikText</td>
	  <td class="predicate">referatrubrik</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td><code>"http://rinfo.lagrummet.se/
	  org/domstolsverket"</code></td>
	  <td class="predicate">dct:publisher</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td>Avgorande.Myndighetskod</td>
	  <td class="predicate">rattsfallspublikation</td>
	  <td class="comment">
	    Strängen "HDO" mappas till
	    "http://rinfo.lagrummet.se/
	    serie/rff/nja", "ADO" till
	    "http://rinfo.lagrummet.se/
	    serie/rff/ad" osv.
	  </td>
	</tr>
	<tr>
	  <td>Avgorande.PubliceringsDatum</td>
	  <td class="predicate">dct:issued</td>
	  <td class="comment"></td>
	</tr>
	<tr>
	  <td></td>
	  <td>Avgorande.PublikationsBeteckning</td>
	  <td class="predicate">dct:identifier</td>
	</tr>
	<tr>
	  <td>Avgorande.PublikationsBeteckning</td>
	  <td class="predicate">arsutgava</td>
	  <td class="comment">
	    Endast årtal, exv "NJA 2009 s. 695" transformeras till "2009".
	  </td>
	</tr>
	<tr>
	  <th colspan="3">om Avgorande.MyndighetsKod == "HDO"</th>
	</tr>
	<tr>
	  <td>Avgorande.Publikationsbeteckning2</td>
	  <td class="predicate">dct:bibliographicCitation</td>
	</tr>

	<tr>
	  <td>Avgorande.PublikationsBeteckning</td>
	  <td class="predicate">sidnummer</td>
	  <td class="comment">
	    Endast avslutande sidnr, exv. "NJA 2009 s. 695" transformeras
	    till "695"
	  </td>
	</tr>
	<tr>
	  <td>Avgorande.Publikationsbeteckning2</td>
	  <td class="predicate">lopnummer</td>
	  <td class="comment">
	    Endast avslutande löpnummer, exv. "NJA 2009:68" transformeras
	    till "68"
	  </td>
	</tr>
	<tr>
	  <td>[Alternativ URI]</td>
	  <td class="predicate">owl:sameAs</td>
	  <td class="comment">Se avsnitt 3.2, "Alternativ URI för NJA-referat"</td>
	</tr>

	<tr>
	  <th colspan="3">Annars:</th>
	</tr>
	<tr>
	  <td>Avgorande.PublikationsBeteckning</td>
	  <td class="predicate">lopnummer</td>
	  <td class="comment">
	    Endast avslutande löpnummer, exv. "RÅ 2010 ref. 14" transformeras
	    till "14"
	  </td>
	</tr>
      </table>
      
      <p>
	Konstruera sedan URIn för resursen enligt följande mönster:
      </p>
      <p>
	<code>http://rinfo.lagrummet.se/publ/rf/</code><i>[symbol för rattsfallspublikation]</i><code>/</code><i>[arsutgava]</i><code>:</code><i>[lopnummer]</i>
      </p>
      <p>
	<!-- TODO: Ska RÅ-exemplet verkligen vara med ":" och inte "ref" el likn.? -->
	Några typiska exempel på en URI:er är
	<code>http://rinfo.lagrummet.se/publ/rf/nja/2009:68</code>,
	<code>http://rinfo.lagrummet.se/publ/rf/ra/2010:14</code> och
	<code>http://rinfo.lagrummet.se/publ/rf/md/2010:7</code>. 
      </p>
    </div>
  </body>
</html>
      
