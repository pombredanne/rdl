
GETting Content by Path or Negotiation
========================================================================

Atom Entry by conneg:

    >>> set_header("Accept", "application/atom+xml;type=entry")
    >>> http_get("http://localhost:8182/publ/1901:100",
    ...         more_headers=["Content-Location"])
    ...
    200 The request has succeeded
    Content-Type: application/atom+xml;type=entry
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    Content-Location: /publ/1901:100/entry
    [Body]
    >>> body(parse=True, to_depth=0)
    <entry xmlns="http://www.w3.org/2005/Atom"/>


Atom Entry by path:

    >>> http_get("http://localhost:8182/publ/1901:100/entry")
    ...
    200 The request has succeeded
    Content-Type: application/atom+xml;type=entry
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    [Body]
    >>> body(parse=True, to_depth=0)
    <entry xmlns="http://www.w3.org/2005/Atom"/>


RDF by conneg:

    >>> set_header("Accept", "application/rdf+xml")
    >>> http_get("http://localhost:8182/publ/1901:100",
    ...         more_headers=["Content-Location"])
    ...
    200 The request has succeeded
    Content-Type: application/rdf+xml
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    Content-Location: /publ/1901:100/rdf
    [Body]
    >>> body(parse=True, to_depth=0)
    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" any="..."/>

RDF by path:

    >>> http_get("http://localhost:8182/publ/1901:100/rdf")
    ...
    200 The request has succeeded
    Content-Type: application/rdf+xml
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    [Body]
    >>> body(parse=True, to_depth=0)
    <rdf:RDF xmlns:rdf="..." any="..."/>


PDF by conneg:

    >>> set_header("Accept", "application/pdf")
    >>> set_header("Accept-Language", "sv")
    >>> http_get("http://localhost:8182/publ/1901:100",
    ...         more_headers=["Content-Location"])
    ...
    200 The request has succeeded
    Content-Type: application/pdf
    Content-Language: sv
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    Content-Location: /publ/1901:100/pdf,sv
    [Body]

PDF by half path (defaults to english):

    >>> http_get("http://localhost:8182/publ/1901:100/pdf",
    ...         more_headers=["Content-Location"])
    ...
    200 The request has succeeded
    Content-Type: application/pdf
    Content-Language: en
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    Content-Location: /publ/1901:100/pdf,en
    [Body]

PDF by half path (ask for swedish):

    >>> set_header("Accept-Language", "sv")
    >>> http_get("http://localhost:8182/publ/1901:100/pdf",
    ...         more_headers=["Content-Location"])
    ...
    200 The request has succeeded
    Content-Type: application/pdf
    Content-Language: sv
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    Content-Location: /publ/1901:100/pdf,sv
    [Body]

PDF by path:

    >>> set_header("Accept", "application/pdf")
    >>> http_get("http://localhost:8182/publ/1901:100/pdf,sv")
    ...
    200 The request has succeeded
    Content-Type: application/pdf
    Content-Language: sv
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    [Body]


Enclosure:

    >>> http_get("http://localhost:8182/publ/1901:100/icon.png")
    ...
    200 The request has succeeded
    Content-Type: image/png
    Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
    [Body]


The Atom Feed Archive
========================================================================

Finding the subscription feed:

    .. >>> http_get("http://localhost:8182/")
    .. TODO: index.xhtml; with link to "/feed/current"


Getting the subscription feed:

    >>> http_get("http://localhost:8182/feed/current")
    ...
    200 The request has succeeded
    Content-Type: application/atom+xml;type=feed
    [Body]
    >>> body(parse=True, to_depth=0)
    <feed xmlns="http://www.w3.org/2005/Atom"/>


Climbing the subscription feed:
    TODO


